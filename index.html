<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>haawke-the music box</title>
	     <script type="module" crossorigin src="./j/assets/main-2f8b6886.js"></script>
   
    
      <link rel="modulepreload" crossorigin="" href="./j/assets/math-utils-1c6b45c8.js">  
	 <script type="module" crossorigin src="./j/three.module.js"></script>	 
	  <link rel="stylesheet" href="./j/assets/math-utils-d0e09dec.css">  

 <style>
      html, body {
overflow:hidden;
        background-color: rgb(8, 8, 8);
  }
 #overlay {
    height:100%;
    width:100%;
    margin:0px;
    position: absolute;
    z-index: 132;
	
  }

  #ol {
    height:100%;
    width:100%;
    margin:0px;
    position: absolute;
    z-index: 19;
  }
	  #main_canvas {
  height:100vh;
    width:100%;
    margin:0px;
    position: absolute;
    z-index: 16;
    
}
#cnv2 {
  height:100vh;
    width:100%;
    margin:0px;
    position: absolute;
    z-index: 16;
    
}
#app {
    height:100vh;
    width:100%;
    margin:0px;
    position: absolute;
    z-index: 2;
 opacity: 1;


  }
  #app1, #app4 {
    height:100vh;
    width:100%;
    margin:0px;
    position: absolute;
    z-index: 2;
 opacity: 1; 
 backdrop-filter: contrast(40%);
backdrop-filter: drop-shadow(4px 4px 10px blue);
backdrop-filter: grayscale(30%);
backdrop-filter: hue-rotate(60deg);


  }
 #startButton{
	  width: 140px;
		  margin-right:40%;
		  margin-left:40%;
		  margin-top:45%;
margin-bottom:45%;
		  position:absolute;
		  z-index:99;
		  color:black;
	  }
	   #cover {
	  width: 100%;
		   height:100vh;
	margin:0;
		  position:absolute;
		  z-index:99;
		  
		 
	  }
	  #container {
	flex: auto;
	  width:100%;
	  }


  </style>
  </head>

  <body>
	  
 <script type="importmap">
            {
              "imports": {
             
                "three/nodes": "https://unpkg.com/three@0.163.0/examples/jsm/nodes/Nodes.js"
             }
            }
          </script>

	  <div id="container">
	
	<div id="overlay">
		<div>
			<img id="cover" src="./assets/cover.png" />
		
			<button id="startButton">Play</button>
		</div>
			</div>



	<!--
Made with LUME
http://github.com/lume/lume
(Working towards an initial release!)
-->
<script src="//assets.codepen.io/191583/LUME.unversioned.7.js"></script>

<!--
ABOUT:
This demo show how to make a camera rig for rotating a camera around an object.
-->

<!-- Polyfill for Pointer Events, for touch-action support below Safari 13 -->
<script src="https://code.jquery.com/pep/0.4.3/pep.js"></script>

<lume-scene id="scene" perspective="800" webgl enable-css="false" touch-action="none">
	<!-- Camera Rig -->
	<lume-node id="controls" size="1 1 1" rotation="0 30 0" size-mode="proportional proportional proportional">
		<lume-node id="xRotator" size="1 1 1" rotation="40 0 0" size-mode="proportional proportional proportional">
			<lume-perspective-camera id="cam" active position="0 0 1000" align="0.5 0.5 0.5"></lume-perspective-camera>
		</lume-node>
	</lume-node>

	<lume-node id="lights" align="0.5 0.5 0.5" rotation="0 30 0">
		<lume-point-light color="yellow" position="500 0 0" intensity="1.3">
			<lume-sphere has="basic-material" color="yellow" opacity="0.5" mount-point="0.5 0.5 0.5" size="10 10 10" cast-shadow="false" receive-shadow="false"></lume-sphere>
		</lume-point-light>

		<lume-point-light color="deeppink" position="-500 0 0" intensity="1.3">
			<lume-sphere has="basic-material" color="deeppink" opacity="0.5" mount-point="0.5 0.5 0.5" size="10 10 10" cast-shadow="false" receive-shadow="false"></lume-sphere>
		</lume-point-light>

		<lume-point-light color="cyan" position="0 0 500" intensity="1.3">
			<lume-sphere has="basic-material" color="cyan" opacity="0.5" mount-point="0.5 0.5 0.5" size="10 10 10" cast-shadow="false" receive-shadow="false"></lume-sphere>
		</lume-point-light>

		<lume-point-light color="limegreen" position="0 0 -500" intensity="1.3">
			<lume-sphere has="basic-material" color="limegreen" opacity="0.5" mount-point="0.5 0.5 0.5" size="10 10 10" cast-shadow="false" receive-shadow="false"></lume-sphere>
		</lume-point-light>

		<lume-point-light color="white" position="0 -500 0" intensity="1.3">
			<lume-sphere has="basic-material" color="white" opacity="0.5" mount-point="0.5 0.5 0.5" size="10 10 10" cast-shadow="false" receive-shadow="false"></lume-sphere>
		</lume-point-light>

		<lume-point-light color="white" position="0 250 0" intensity="1.3">
			<lume-sphere has="basic-material" color="white" opacity="0.5" mount-point="0.5 0.5 0.5" size="10 10 10" cast-shadow="false" receive-shadow="false"></lume-sphere>
		</lume-point-light>
	</lume-node>

	<lume-box id="box" color="black" size="200 200 200" align="0.5 0.5 0.5" mount-point="0.5 0.5 0.5"></lume-box>

	<lume-plane color="black" size="2000 2000" rotation="90 0 0" align="0.5 0.5 0.5" mount-point="0.5 0.5 0.5" position="0 300 0"></lume-plane>
</lume-scene>
	<div id="overlay">
			<button id="startButton">Play</button>
		</div>
		



    <script type="module">
import * as THREE from './j/three.module.js';

	    const startButton = document.getElementById( 'startButton' );
			startButton.addEventListener( 'click', function () {
const startButton2 = document.getElementById( 'startButton' );
			startButton.addEventListener( 'click', init );
				init();
				animate();


			} );

			function init() {
"use strict";
{
    // Make the default LUME 3D elements available with their default names.
    LUME.useDefaultNames();
    const minCamXRotation = -11;
    const maxCamXRotation = 90;
    // Add some interaction: drag to rotate the view:
    scene.addEventListener("pointerdown", () => {
        // Stop rotation if any.
        controls.rotation = () => false;
        let deltaX = 0;
        let deltaY = 0;
        const onMove = (event) => {
            deltaX = event.movementY * 0.2;
            xRotator.rotation.x = clamp(xRotator.rotation.x + deltaX, minCamXRotation, maxCamXRotation);
            deltaY = -event.movementX * 0.2;
            controls.rotation.y += deltaY;
        };
        scene.addEventListener("pointermove", onMove);
        scene.addEventListener("pointerup", () => {
            // stop dragging
            scene.removeEventListener("pointermove", onMove);
            if (deltaX === 0 && deltaY === 0)
                return;
            // slow the rotation down based on former drag speed
            xRotator.rotation = (x, y, z) => {
                deltaX = deltaX * 0.95;
                // stop rotation once the delta is small enough that we
                // no longer notice the rotation.
                if (Math.abs(deltaX) < 0.01)
                    return false;
                return [clamp(x + deltaX, minCamXRotation, maxCamXRotation), y, z];
            };
            controls.rotation = (x, y, z) => {
                deltaY = deltaY * 0.95;
                // stop rotation once the delta is small enough that we
                // no longer notice the rotation.
                if (Math.abs(deltaY) < 0.01)
                    return false;
                return [x, y + deltaY, z];
            };
        }, { once: true });
    });
    function clamp(n, min, max) {
        return Math.max(Math.min(n, max), min);
    }
    lights.rotation = (x, y, z) => [x, y + 0.2, z];
}

				const overlay = document.getElementById( 'overlay' );
				overlay.remove();
const scene = new THREE.Scene();
scene.fog = new THREE.FogExp2( 0x00000, 0.202 );
				const container = document.createElement( 'div' );
				document.body.appendChild( container );
const camera = new THREE.PerspectiveCamera( 55, window.innerWidth / window.innerHeight, 0.1, 1000 );
camera.position.y = -4;
	const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });
renderer.domElement.id = 'cnv2';
		renderer.setClearColor( 0x00000 );
renderer.setSize( window.innerWidth, window.innerHeight );
document.body.append( renderer.domElement );
		const listener = new THREE.AudioListener();

				const audio = new THREE.Audio( listener );
				const file = './j/music_box2.mp3';

				if ( /(iPad|iPhone|iPod)/g.test( navigator.userAgent ) ) {

					const loader = new THREE.AudioLoader();
					loader.load( file, function ( buffer ) {

						audio.setBuffer( buffer );
						audio.play();

					} );

				} else {

					const mediaElement = new Audio( file );
					mediaElement.play();

					audio.setMediaElementSource( mediaElement );

				}


				video = document.getElementById( 'video' );
				video.play();
				video.addEventListener( 'play', function () {

					

			

	this.currentTime = 3;
  	});

			}
  </script>

  <div class="app4">
    


 <canvas id="app"></canvas>   
	
  <iframe id="ol"  title="logo" frameborder="0"  src="./ol.html"> </iframe> 
 </div>
	  </div>
	  </div>

  </body>
</html>
